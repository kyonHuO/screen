<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>S.L.O.T.H. â€“ è£½å“æ¯”è¼ƒãƒ„ãƒ¼ãƒ« â…©â…¦</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ---------- åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« ---------- */
    body{font-family:'Noto Sans JP',sans-serif;background:#f8f9fa}
    .card{background:#fff;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.08);transition:.3s;cursor:pointer}
    .card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,0,0,.1)}
    .btn{border-radius:8px;font-weight:600;transition:.2s;padding:0.45rem 0.9rem;font-size:0.8rem}
    .btn-primary{background:#3b82f6;color:#fff}.btn-primary:hover{background:#2563eb}
    .btn-secondary{background:#6b7280;color:#fff}.btn-secondary:hover{background:#4b5563}
    .btn-copy{background:#fbbf24;color:#fff}.btn-copy:hover{background:#f59e0b}
    .btn-danger{background:#ef4444;color:#fff}.btn-danger:hover{background:#dc2626}
    .btn-clear{background:#9ca3af;color:#fff;padding:0 0.6rem}.btn-clear:hover{background:#6b7280}
    a.price-link{color:#2563eb;font-weight:600;text-decoration:underline;font-size:0.85rem}
    input,select{outline:none}
    ::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-thumb{background:#a8a8a8;border-radius:4px}
    /* ---------- AI ãƒã‚¤ãƒ©ã‚¤ãƒˆ & ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° ---------- */
    .ai-pick{outline:4px solid #10b981;outline-offset:2px}
    #loading{position:fixed;inset:0;background:rgba(255,255,255,.7);display:flex;align-items:center;justify-content:center;z-index:60;backdrop-filter:blur(2px);font-size:1.2rem;font-weight:700}
    @keyframes spin{to{transform:rotate(360deg)}}
    .spinner{width:32px;height:32px;border:4px solid #3b82f6;border-top-color:transparent;border-radius:50%;animation:spin .8s linear infinite;margin-right:.75rem}
    @keyframes fade{from{opacity:0;transform:scale(.97)}to{opacity:1;transform:scale(1)}}
    .ani{animation:fade .15s ease-out}
  </style>
</head>
<body class="antialiased text-gray-800 select-none">
<script>
/***************************
 *  Version & Constants
 ***************************/
const VERSION_NUM = 17;                           // â† XIVâ†’XVâ†’XVIâ†’XVII
const roman = ['','â… ','â…¡','â…¢','â…£','â…¤','â…¥','â…¦','â…§','â…¨','â…©','â…ª','â…«','â…©â…¢','â…©â…£','â…©â…¤','â…©â…¥','â…©â…¦'];
const VERSION = roman[VERSION_NUM] || VERSION_NUM;

const GEMINI_MODEL = 'gemini-2.5-flash-lite';     // ä½¿ç”¨ãƒ¢ãƒ‡ãƒ«
const API_KEY      = 'AIzaSyDhOaoqnZA7POhqjpZuJCTCCW-GmJsrHWg';   // ã”æç¤ºã®ã‚­ãƒ¼

/***************************
 *  ã‚µã‚¤ã‚ºãƒ¬ãƒ³ã‚¸ï¼ã‚«ãƒ†ã‚´ãƒªè¨­å®š
 ***************************/
const sizeRangesTV  = [{label:'~39ã‚¤ãƒ³ãƒ',min:0,max:39},{label:'40~49ã‚¤ãƒ³ãƒ',min:40,max:49},{label:'50~59ã‚¤ãƒ³ãƒ',min:50,max:59},{label:'60ã‚¤ãƒ³ãƒ~',min:60,max:999}];
const sizeRangesAC  = [{label:'6ç•³ä»¥ä¸‹',min:0,max:6},{label:'7~10ç•³',min:7,max:10}];
const sizeRangesRef = [{label:'~300L',min:0,max:300},{label:'301~500L',min:301,max:500},{label:'501L~',min:501,max:3000}];

const cfgs = {
  tv : {file:'tv-data.json', key:'ãƒ¢ãƒ‡ãƒ«å', flag:'å±•ç¤ºå“', flagLabel:'å±•ç¤ºå“',
        size:'ã‚µã‚¤ã‚º(ã‚¤ãƒ³ãƒ)', price:'åº—èˆ—ä¾¡æ ¼', priceLabel:'ä¾¡æ ¼',
        title:'ãƒ†ãƒ¬ãƒ“æ¯”è¼ƒ', subtitle:'ãƒ†ãƒ¬ãƒ“ã‚’é¸æŠã—ã¦æ¯”è¼ƒ',
        filters:['å±•ç¤ºå“','ã‚µã‚¤ã‚º(ã‚¤ãƒ³ãƒ)'], sizeRanges:sizeRangesTV,
        sample:'4Kãƒ»55ã‚¤ãƒ³ãƒãƒ»ãƒãƒƒãƒˆå‹•ç”»å‘ã‘'},
  ac : {file:'ac-data.json', key:'å‹ç•ª', flag:'ã‚¼ãƒ­ã‚¨ãƒŸ.æœ‰ç„¡', flagLabel:'ã‚¼ãƒ­ã‚¨ãƒŸ',
        size:'ç•³æ•°', price:'åº—èˆ—ä¾¡æ ¼', priceLabel:'ä¾¡æ ¼',
        title:'ã‚¨ã‚¢ã‚³ãƒ³æ¯”è¼ƒ', subtitle:'ã‚¨ã‚¢ã‚³ãƒ³ã‚’é¸æŠã—ã¦æ¯”è¼ƒ',
        filters:['ãƒ¡ãƒ¼ã‚«ãƒ¼','ã‚¼ãƒ­ã‚¨ãƒŸ.æœ‰ç„¡','ç•³æ•°'], sizeRanges:sizeRangesAC,
        sample:'10ç•³ãƒ»çœã‚¨ãƒãƒ»æš–æˆ¿é‡è¦–'},
  ref: {file:'refrigerator-data.json', key:'å‹ç•ª', flag:'å±•ç¤ºå“æœ‰ç„¡', flagLabel:'å±•ç¤ºå“',
        size:'å®¹é‡(L)', price:'åº—èˆ—ä¾¡æ ¼', priceLabel:'ä¾¡æ ¼',
        title:'å†·è”µåº«æ¯”è¼ƒ', subtitle:'å†·è”µåº«ã‚’é¸æŠã—ã¦æ¯”è¼ƒ',
        filters:['ãƒ¡ãƒ¼ã‚«ãƒ¼','å±•ç¤ºå“æœ‰ç„¡','å®¹é‡(L)'], sizeRanges:sizeRangesRef,
        sample:'400Lä»¥ä¸Šãƒ»é‡èœå®¤ãŒå¤§ãã„'}
};

/***************************
 *  çŠ¶æ…‹ & ã‚¯ã‚¤ãƒƒã‚¯ util
 ***************************/
const S = {cat:null, data:[], sel:[], flt:{}, edit:false, ai:{req:'', picks:[]} };
const $  = s=>document.querySelector(s);
const $$ = s=>document.querySelectorAll(s);

/***************************
 *  åˆæœŸåŒ–
 ***************************/
addEventListener('DOMContentLoaded',()=>{
  $('#verHeader').textContent = VERSION;
  $('#verLead').textContent   = VERSION;


  $$('.cat-btn').forEach(btn=>btn.addEventListener('click',()=>load(btn.dataset.cat)));
  $('#btn-back').addEventListener('click',()=>{$('#screen-select').classList.remove('hidden');$('#screen-app').classList.add('hidden');});
  $('#chk-edit').addEventListener('change',e=>{S.edit=e.target.checked;$('#btn-add').classList.toggle('hidden',!S.edit);render();});
  $('#sel-sort').addEventListener('change',render);
  $('#btn-add').addEventListener('click',()=>openEditor());
  $('#ai-btn').addEventListener('click',aiSuggest);
  $('#ai-clear').addEventListener('click',clearAI);
});

/***************************
 *  ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‰
 ***************************/
async function load(cat){
  Object.assign(S,{cat,sel:[],flt:{},edit:false,ai:{req:'',picks:[]}});

  $('#chk-edit').checked=false;$('#btn-add').classList.add('hidden');
  clearAI();

  const cfg=cfgs[cat];
  $('#hdg-title').textContent=`${cfg.title} (${VERSION})`;
  $('#hdg-sub').textContent   = cfg.subtitle;
  $('#ai-placeholder').textContent = `ä¾‹ï¼‰${cfg.sample}`;
  $('#ai-input').placeholder       = `ä¾‹ï¼‰${cfg.sample}`;

  let data=[];
  try{
    const res=await fetch(cfg.file);
    if(res.ok) data = await res.json();
    else throw 0;
  }catch{
    const saved=localStorage.getItem(cfg.file);
    if(saved) data = JSON.parse(saved);
  }
  S.data=data;

  $('#screen-select').classList.add('hidden');
  $('#screen-app').classList.remove('hidden');
  render();
}

/***************************
 *  æç”»é–¢é€£
 ***************************/
function render(){renderFilters();renderList();renderCompare();highlightAIPicks();}
function renderFilters(){
  const cfg=cfgs[S.cat]; const box=$('#filter'); box.innerHTML='';
  cfg.filters.forEach(k=>{
    if(k===cfg.size){
      const title=S.cat==='ac'?'ç•³æ•°ã§çµã‚Šè¾¼ã‚€':S.cat==='ref'?'å®¹é‡ã§çµã‚Šè¾¼ã‚€':'ç”»é¢ã‚µã‚¤ã‚ºã§çµã‚Šè¾¼ã‚€';
      const sec=createFilterSection(title);
      sec.append(fbtn('sizeRange',null,'ã™ã¹ã¦'),...cfg.sizeRanges.map(r=>fbtn('sizeRange',r.label,r.label)));
      box.append(sec); return;
    }
    const vals=[...new Set(S.data.map(d=>getField(d,k)).filter(Boolean))];
    if(!vals.length) return;
    const sec=createFilterSection(`${k}ã§çµã‚Šè¾¼ã‚€`);
    sec.append(fbtn(k,null,'ã™ã¹ã¦'),...vals.map(v=>fbtn(k,v,v)));
    box.append(sec);
  });
}
function createFilterSection(label){
  const div=document.createElement('div');
  div.innerHTML=`<h4 class="font-bold mb-1 text-sm">${label}</h4><div class="flex flex-wrap gap-2"></div>`;
  return div;
}
function fbtn(key,val,label){
  const b=document.createElement('button');
  b.className='btn bg-gray-200 text-gray-700 text-xs';
  b.textContent=label;
  if((val===null&&!S.flt[key])||S.flt[key]===val) b.classList.add('btn-primary','text-white');
  b.onclick=()=>{val===null?delete S.flt[key]:S.flt[key]=val; render();};
  return b;
}
function renderList(){
  const cfg=cfgs[S.cat]; let list=[...S.data];
  for(const [k,v] of Object.entries(S.flt)){
    if(k==='sizeRange'){
      const r=cfg.sizeRanges.find(r=>r.label===v);
      if(r) list=list.filter(d=>{const s=parseFloat(getField(d,cfg.size));return s>=r.min&&s<=r.max;});
    }else list=list.filter(d=>getField(d,k)==v);
  }
  const sort=$('#sel-sort').value;
  list.sort((a,b)=>{
    if(sort==='maker') return (a['ãƒ¡ãƒ¼ã‚«ãƒ¼']||'').localeCompare(b['ãƒ¡ãƒ¼ã‚«ãƒ¼']||'');
    if(sort==='flag')  return isFlag(a,cfg)===isFlag(b,cfg)?0:isFlag(a,cfg)?-1:1;
    if(sort==='size')  return (parseFloat(getField(a,cfg.size))||0)-(parseFloat(getField(b,cfg.size))||0);
    if(sort==='price') return toPrice(getField(a,cfg.price))-toPrice(getField(b,cfg.price));
    return 0;
  });

  $('#list').className='grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6';
  $('#list').innerHTML=list.map(d=>card(d,cfg)).join('');

  $$('#list .card-root').forEach(el=>el.addEventListener('click',e=>{
    if(!e.target.closest('button')) openDetail(list.find(x=>x.id===el.dataset.id),cfg);
  }));
}
function card(d,cfg){
  d.id=d.id||crypto.randomUUID();
  const sel=S.sel.includes(d.id);
  const price=getField(d,cfg.price);
  const priceHtml=S.cat==='tv'?(price?`<a class="price-link">${price}</a>`:`<span class="text-xs text-blue-600">ä¾¡æ ¼æƒ…å ±ãªã—</span>`):`<span class="text-xs">${price??'-'}</span>`;
  return `<div class="card p-4 flex flex-col gap-2 card-root" data-id="${d.id}">
    <h4 class="font-semibold text-xs sm:text-sm mb-1">${d[cfg.key]}</h4>${priceHtml}
    <div class="text-xs space-y-1">${renderFieldLines(d,cfg).join('')}</div>
    <div class="mt-auto grid grid-cols-4 gap-1 text-xs">
      <button class="btn btn-primary col-span-2" onclick='event.stopPropagation();toggleSel("${d.id}")'>${sel?'è§£é™¤':'æ¯”è¼ƒ'}</button>
      <button class="btn btn-secondary" onclick='event.stopPropagation();window.open("https://www.google.com/search?q=${encodeURIComponent(d[cfg.key])}")'>ğŸ”</button>
      <button class="btn btn-copy" id="copy-${d.id}" onclick='event.stopPropagation();copyModel("${d.id}")'>ğŸ“‹</button>
    </div>
    ${S.edit?`<button class="btn btn-danger mt-1" onclick='event.stopPropagation();openEditor("${d.id}")'>ç·¨é›†</button>`:''}
  </div>`;
}
function renderFieldLines(d,cfg){
  if(S.cat==='tv')  return ['ã‚µã‚¤ã‚º','è§£åƒåº¦','ãƒ‘ãƒãƒ«','ã‚¨ãƒ³ã‚¸ãƒ³','ç‰¹å¾´'].map(k=>`<p><span class='font-medium'>${k}:</span> ${getField(d,k)??'-'}</p>`);
  if(S.cat==='ac')  return ['ãƒ¡ãƒ¼ã‚«ãƒ¼','ç•³æ•°','å†·æˆ¿èƒ½åŠ›','æš–æˆ¿èƒ½åŠ›'].map(k=>`<p><span class='font-medium'>${k}:</span> ${getField(d,k)??'-'}</p>`);
  return ['ãƒ¡ãƒ¼ã‚«ãƒ¼','å®¹é‡','ãƒ‰ã‚¢æ•°'].map(k=>`<p><span class='font-medium'>${k}:</span> ${getField(d,k)??'-'}</p>`);
}

/***************************
 *  ã‚³ãƒ”ãƒ¼ / æ¯”è¼ƒ / ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆçœç•¥ã›ãšä¿æŒï¼‰
 ***************************/
function copyModel(id){const cfg=cfgs[S.cat];const it=S.data.find(d=>d.id===id);if(!it)return;
  navigator.clipboard.writeText(it[cfg.key]).then(()=>{const b=$(`#copy-${id}`);b.textContent='âœ”';setTimeout(()=>b.textContent='ğŸ“‹',1200);});
}
function toggleSel(id){S.sel=S.sel.includes(id)?S.sel.filter(x=>x!==id):S.sel.length<6?[...S.sel,id]:S.sel; renderCompare(); renderList();}
function renderCompare(){
  const box=$('#cmp'); if(!S.sel.length){box.innerHTML='';return;}
  const cfg=cfgs[S.cat]; const items=S.data.filter(d=>S.sel.includes(d.id));
  const head=items.map(i=>`<th>${i[cfg.key]}<button class="ml-1 text-red-600" onclick='toggleSel("${i.id}")'>Ã—</button></th>`).join('');
  const keys=S.cat==='tv'?['ã‚µã‚¤ã‚º','è§£åƒåº¦','ãƒ‘ãƒãƒ«','ã‚¨ãƒ³ã‚¸ãƒ³','ç‰¹å¾´',cfg.priceLabel]:
              S.cat==='ac'?['ãƒ¡ãƒ¼ã‚«ãƒ¼','ç•³æ•°','å†·æˆ¿èƒ½åŠ›','æš–æˆ¿èƒ½åŠ›',cfg.priceLabel]:
                            ['ãƒ¡ãƒ¼ã‚«ãƒ¼','å®¹é‡',cfg.priceLabel];
  const rows=keys.map(k=>`<tr><td class="font-medium pr-2 text-xs">${k}</td>${items.map(i=>`<td class="text-xs">${getField(i,k)??'-'}</td>`).join('')}</tr>`).join('');
  box.innerHTML=`<div class="card p-4 mb-4 ani"><div class="flex justify-between mb-2"><strong>æ¯”è¼ƒ (${items.length}/6)</strong></div><table><thead><tr><th></th>${head}</tr></thead><tbody>${rows}</tbody></table></div>`;
}
function openDetail(it,cfg){
  const rows=allKeys(it).map(k=>`<tr><td class="font-medium text-xs pr-4">${k}</td><td class="text-xs break-all">${JSON.stringify(getField(it,k)??'-')}</td></tr>`).join('');
  modal(`<div class="bg-white rounded-xl w-full max-w-xl p-6"><div class="flex justify-between mb-4"><h3 class="text-lg font-bold">${it[cfg.key]}</h3><button id="md-close">Ã—</button></div><div class="overflow-auto max-h-[70vh]"><table>${rows}</table></div></div>`);
}

/***************************
 *  AI ãŠã™ã™ã‚ï¼ˆGemini å‘¼ã³å‡ºã—ï¼‰
 ***************************/
async function aiSuggest(){
  const req=$('#ai-input').value.trim();
  if(!req){alert('ã”è¦æœ›ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');return;}
  S.ai={req,picks:[]};
  $('#ai-result').innerHTML='';
  showLoading('å›ç­”ç”Ÿæˆä¸­â€¦');

  const cfg=cfgs[S.cat];
  const itemsText=S.data.slice(0,50).map(d=>`- ${d[cfg.key]} / ä¾¡æ ¼:${getField(d,cfg.price)??'ä¸æ˜'} / ${cfg.size}:${getField(d,cfg.size)??'ä¸æ˜'}`).join('\n');
  const prompt=`ã‚ãªãŸã¯å®¶é›»é¸ã³ã®ãƒ—ãƒ­ã§ã™ã€‚æ¬¡ã®è¦æœ›ã€Œ${req}ã€ã«åˆã†${cfg.title.replace('æ¯”è¼ƒ','')}ã‚’æœ€å¤§ï¼“ä»¶ã¾ã§é¸ã³ã€æ—¥æœ¬èªã§ã€Œidã€ã€Œreasonã€ã‚’ JSON é…åˆ—ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ [{"id":"...","reason":"..."}] ã®ã¿ã€‚è£½å“ãƒªã‚¹ãƒˆ:\n${itemsText}`;

  try{
    const res=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL}:generateContent?key=${API_KEY}`,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({
        contents:[{
          role:'user',
          parts:[{text:prompt}]
        }]
      })
    });

    if(!res.ok){
      const err=await res.json().catch(()=>({}));
      throw new Error(err.error?.message||res.status);
    }

    const js=await res.json();
    const text=js.candidates?.[0]?.content?.parts?.[0]?.text||'';
    const picks=parseAIPicks(text);
    if(!picks.length) throw new Error('empty');

    S.ai.picks=picks.map(p=>p.id);
    $('#ai-result').innerHTML=
      `<h3 class="font-bold mb-2">AI æ¨å¥¨çµæœ</h3><ul class="text-sm">${picks.map(p=>`<li class="mb-2"><strong>${p.id}</strong><br><span class="text-xs">${p.reason}</span></li>`).join('')}</ul>`;
  }catch(e){
    console.error(e);
    $('#ai-result').innerHTML=`<p class="text-sm text-red-600">AI æ¨å¥¨çµæœã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ (${e.message})</p>`;
  }
  hideLoading();
  renderList();
}
function parseAIPicks(t){try{return JSON.parse(t.slice(t.indexOf('['),t.lastIndexOf(']')+1));}catch{return[];}}

/* ---------- AI å…¥åŠ›ã‚¯ãƒªã‚¢ & Loading ---------- */
function clearAI(){ $('#ai-input').value=''; $('#ai-result').innerHTML=''; S.ai={req:'',picks:[]}; renderList();}
function showLoading(msg){document.body.insertAdjacentHTML('beforeend',`<div id="loading"><div class="spinner"></div>${msg}</div>`);$('#ai-btn').disabled=true;}
function hideLoading(){ $('#loading')?.remove(); $('#ai-btn').disabled=false; }

/***************************
 *  ãã®ä»–ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
 ***************************/
function modal(html){$('#modal-root').innerHTML=`<div class="fixed inset-0 bg-black/60 flex items-center justify-center z-50" id="md-bg"><div class="ani">${html}</div></div>`;$('#md-bg').addEventListener('click',e=>{if(['md-bg','md-close'].includes(e.target.id))$('#modal-root').innerHTML='';});}
function allKeys(o){return typeof o==='object'&&o?Object.entries(o).flatMap(([k,v])=>typeof v==='object'?allKeys(v).map(s=>`${k}.${s}`):[k]):[];}
function getField(o,k){return k.includes('.')?k.split('.').reduce((a,b)=>a?.[b],o):o[k];}
function setField(o,k,v){const p=k.split('.'); if(p.length===1) o[k]=v; else{ o[p[0]]=o[p[0]]||{}; o[p[0]][p[1]]=v;}}
function isFlag(o,cfg){const v=getField(o,cfg.flag); return v==='ã‚ã‚Š'||v===true||v==='Yes';}
function toPrice(x){return typeof x==='string'?parseInt(x.replace(/[^0-9]/g,''))||0:parseFloat(x)||0;}
</script>

<header class="py-4 text-center bg-white shadow fixed top-0 w-full z-40">
  <h1 class="text-3xl font-extrabold tracking-widest text-blue-700">
    S.L.O.T.H. <span id="verHeader" class="text-base align-top"></span>
  </h1>
  <p class="text-xs text-gray-500 mt-1">System Lazily Optimized to Help</p>
</header>

<!-- ã‚«ãƒ†ã‚´ãƒªé¸æŠ -->
<div id="screen-select" class="flex flex-col items-center justify-center min-h-screen pt-32 p-6 text-center">
  <h2 class="text-4xl font-extrabold text-blue-700 mb-1">S.L.O.T.H.</h2>
  <p class="text-sm text-gray-500 mb-8">Smart Comparison & Rating Engine â€“ <span id="verLead"></span></p>
  <p class="mb-10 text-gray-600">æ¯”è¼ƒã—ãŸã„ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠ</p>
  <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 w-full max-w-4xl">
    <button data-cat="tv"  class="card p-8 cat-btn"><div class="text-5xl mb-4">ğŸ“º</div><span class="text-xl font-semibold">ãƒ†ãƒ¬ãƒ“</span></button>
    <button data-cat="ac"  class="card p-8 cat-btn"><div class="text-5xl mb-4">ğŸ’¨</div><span class="text-xl font-semibold">ã‚¨ã‚¢ã‚³ãƒ³</span></button>
    <button data-cat="ref" class="card p-8 cat-btn"><div class="text-5xl mb-4">ğŸ§Š</div><span class="text-xl font-semibold">å†·è”µåº«</span></button>
  </div>
</div>

<!-- ãƒ¡ã‚¤ãƒ³ç”»é¢ -->
<div id="screen-app" class="hidden container mx-auto p-6 pt-32">
  <!-- AI å…¥åŠ›æ¬„ -->
  <div class="card p-4 mb-6">
    <h3 class="font-bold mb-2">AI ã«ãŠã™ã™ã‚ã‚’ç›¸è«‡ã™ã‚‹</h3>
    <div class="flex flex-col sm:flex-row gap-2">
      <input id="ai-input" class="border rounded p-2 flex-grow text-sm" />
      <div class="flex gap-2">
        <button id="ai-btn"   class="btn btn-primary sm:w-32">AI ã«èã</button>
        <button id="ai-clear" class="btn btn-clear   sm:w-12">Ã—</button>
      </div>
    </div>
    <p id="ai-placeholder" class="text-xs text-gray-500 mt-1"></p>
    <div id="ai-result" class="mt-4"></div>
  </div>

  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4">
    <div class="flex gap-2 items-center">
      <button id="btn-back" class="btn bg-gray-200 text-gray-700">&larr; æˆ»ã‚‹</button>
      <label class="flex items-center text-sm font-medium gap-1"><input type="checkbox" id="chk-edit" class="accent-blue-600"> ç·¨é›†ãƒ¢ãƒ¼ãƒ‰</label>
      <button id="btn-add" class="btn btn-primary hidden">ï¼‹ æ–°è¦è¿½åŠ </button>
    </div>
    <div>
      <h2 id="hdg-title" class="text-2xl font-bold"></h2>
      <p id="hdg-sub" class="text-gray-500 text-sm"></p>
    </div>
    <div id="sortbox">
      <label class="text-sm font-semibold mr-1">ä¸¦ã¹æ›¿ãˆ:</label>
      <select id="sel-sort" class="border rounded px-2 py-1 text-sm">
        <option value="maker">ãƒ¡ãƒ¼ã‚«ãƒ¼</option>
        <option value="flag">å±•ç¤º/ã‚¼ãƒ­ã‚¨ãƒŸ</option>
        <option value="size">ã‚µã‚¤ã‚º</option>
        <option value="price">ä¾¡æ ¼</option>
      </select>
    </div>
  </div>

  <div id="cmp"></div>
  <div id="filter" class="space-y-6 mb-8"></div>
  <div id="list" class="grid gap-6"></div>
</div>

<div id="modal-root"></div>
</body>
</html>
